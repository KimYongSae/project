<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper
	namespace="org.zerock.wecart.mapper.pricecompare.PriceCompareMapper">
	<select id="selectAll"
		resultType="org.zerock.wecart.domain.pricecompare.GoodsVO">
        <![CDATA[ 
            SELECT 
                t1.*, t2.price
            FROM 
                goods t1,
                sale t2
            WHERE 
                t1.goods_id = t2.goods_id
                AND t1.goods_id <= 50
                AND t2.price = (
                                SELECT min(price)
                                FROM sale 
                                WHERE goods_id = t2.goods_id
                                )
        ]]>
	</select>

	<select id="select"
		resultType="org.zerock.wecart.domain.pricecompare.GoodsVO">
  		<![CDATA[
	  		SELECT *
	  		FROM  goods
	  		WHERE
	  			goods_id <= 500
	  			AND goods_id = #{goods_id}
  		]]>

	</select>

</mapper>